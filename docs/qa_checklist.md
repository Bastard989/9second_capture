# QA Checklist (Local Agent)

Проверка базового функционала без дизайна.

## Перед стартом
1. Убедись, что зависимости Python установлены: `pip install -r requirements.txt`.
2. Если используешь `STT_PROVIDER=whisper_local`, убедись что в системе доступен `ffmpeg` (PyAV требует его).

## Запуск
1. Запусти агент: `python3 scripts/run_local_agent.py`.
2. Убедись, что UI открылся на `http://127.0.0.1:<порт>`.
3. Проверь, что статус в UI не падает в ошибку при старте.

## Драйвер и захват
1. Нажми `Check driver` и проверь, что результат `OK` при установленном драйвере.
2. Выбери режим `System audio` и нажми `Check capture`.
3. Убедись, что индикатор уровня двигается при наличии системного звука.
4. Переключись на `Screen + audio` и повтори проверку уровня.

## Запись
1. Нажми `Start`.
2. Дождись окончания 9‑секундного отсчёта.
3. Проговори 10–20 секунд тестового текста.
4. Нажми `Stop`.

## Артефакты и результаты
1. Открой выпадающий список записей и выбери текущую запись.
2. Нажми `View raw` и проверь, что текст содержит «грязную» версию.
3. Нажми `View clean` и проверь очищенную версию.
4. Нажми `Generate report (raw)` и `Generate report (clean)` и проверь, что JSON появляется в просмотре.
5. Нажми `Generate structured (raw)` и `Generate structured (clean)` и проверь, что JSON появляется в просмотре.
6. Нажми кнопки скачивания для raw/clean/report/structured и убедись, что файлы сохранились.

## Загрузка файла
1. Выбери аудио‑файл и нажми `Upload audio`.
2. Убедись, что запись появляется в списке и доступны артефакты.

## Дополнительно
1. Переключи язык RU/EN и проверь, что подписи меняются.
2. Проверь, что UI не роняет консольными ошибками при обычном сценарии.
