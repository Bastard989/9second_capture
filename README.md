# 9second_capture

Статус: в разработке.

Локальный агент для записи встреч с компьютера пользователя: захват системного звука, транскрибация, аналитика и экспорт результатов. Работает на локальной машине и сохраняет все данные на диск пользователя.

## Идея продукта

Пользователь устанавливает агент на свой ПК, запускает его одним кликом и получает локальный веб-интерфейс. Через него можно начать/остановить запись, проверить входной звук и скачать результаты. Никакие данные не уходят в облако без явного решения пользователя.

## Как это работает

1) Агент запускается и поднимает локальную страницу (127.0.0.1). Порт выбирается автоматически.
2) Пользователь проверяет звук и запускает запись.
3) Агент захватывает системный звук и обрабатывает запись.
4) По завершении сохраняются файлы (raw/clean транскрипты, отчет).
5) По кнопке можно сформировать структурированные данные (табличный экспорт).

## Что сохраняется локально

- raw transcript (сырой текст)
- clean transcript (очищенный текст)
- отчет (summary/analytics)
- structured data (CSV/JSON) — по кнопке, отдельно для raw и clean

## Драйверы захвата звука

Системный звук требует виртуального аудио-драйвера. Мы оставляем установку драйвера на пользователе, а агент дает инструкцию и проверяет наличие сигнала. Если системный звук недоступен, возможен fallback (например, только микрофон).

## UI-логика (локальный веб-интерфейс)

Основные действия:
- Проверить звук
- Начать запись / Остановить запись
- Список записей и скачивание файлов
- Сформировать structured данные (raw/clean)
- Переключение языка RU/EN

## Дорожная карта (без сроков)

Принятые решения:
- Локальный агент + локальный web-интерфейс вместо полноразмерного GUI.
- Автовыбор свободного порта при старте (fallback по диапазону + запоминание удачного порта).
- Двухъязычный UI (RU/EN) с переключателем.
- Драйверы захвата звука устанавливает пользователь; агент только проверяет наличие сигнала.
- Результаты сохраняются локально; отправка на почту — опциональна.
- Structured данные формируются по кнопке после завершения встречи (raw/clean отдельно, экспорт CSV/JSON).

План развития:
1) Локальный режим записи + базовый UI (Старт/Стоп, статус, проверка звука).
2) Локальные результаты и список записей (скачивание файлов).
3) Structured данные по кнопке (LLM) + экспорт CSV/JSON.
4) Лаунчер для macOS/Windows/Linux (иконка, автозапуск UI).
5) Полировка UX/инструкций/валидаций.
6) Опционально: режим синхронизации результатов с сервером (по желанию пользователя).

## Dev quickstart (для разработчиков)

- `docker compose up -d --build`
- Проверка API: `http://localhost:8010/health`
- Метрики: `http://localhost:8010/metrics`

Минимальный `.env` для старта:
- `APP_ENV=dev`
- `AUTH_MODE=api_key`
- `API_KEYS=dev-user-key`
- `SERVICE_API_KEYS=dev-service-key`
